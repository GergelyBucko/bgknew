@import "tailwindcss";

@source "./*.{html,php}" "./**/*.{html,php}" "./includes/**/*.html" "./assets/**/*.{html,php}" "./js/**/*.js";

@layer utilities {
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  @keyframes fadeInThenScale {
    0%   { opacity: 0; transform: scale(1); }
    100% { opacity: 1; transform: scale(1); } /* látható marad */
  }
  @keyframes scalePulse {
    0%, 100% { transform: scale(1); }
    50%      { transform: scale(1.05); }
  }
  .animate-fade-in-then-scale {
    animation: fadeInThenScale 0.6s ease-out forwards, scalePulse 2s ease-in-out infinite 0.6s;
  }
}

@layer utilities {
  .u-underline-center {
    position: relative;
    display: inline-flex; /* hogy az abszolút pszeudo szépen igazodjon */
    align-items: center;
  }
  .u-underline-center::after {
    content: "";
    position: absolute;
    left: 50%;
    bottom: 0; /* az elem aljához igazítjuk */
    transform: translate(-50%, var(--u-underline-offset, 0)) scaleX(0);
    transform-origin: center;
    width: 100%;
    height: 2px;
    background-color: currentColor; /* a szöveg színe lesz a vonal */
    transition: transform .3s ease;
    pointer-events: none;
  }
  .u-underline-center:hover::after,
  .u-underline-center:focus-visible::after {
    transform: translate(-50%, var(--u-underline-offset, 0)) scaleX(1);
  }

  /* Offset “presetek” – NEM változtatják a layoutot */
  .u-offset-0  { --u-underline-offset: 0; }
  .u-offset-5  { --u-underline-offset: 5px; }
  .u-offset-10 { --u-underline-offset: 10px; }
  .u-offset-15 { --u-underline-offset: 15px; }
}

@layer utilities {
  .u-underline-center-blue::after {
    background-color: #2867a2;
  }
}

@layer utilities {
  .billboard {
    --cols: 12;
    --gap: 0px;
    --flip-duration: 600ms;
    --stagger: 35ms;
    --easing: cubic-bezier(.22,.61,.36,1);
    position: relative;
    perspective: 1200px;
  }
  .billboard-grid {
    position: absolute;
    inset: 0;
    display: grid;
    grid-template-columns: repeat(var(--cols), 1fr);
    gap: var(--gap);
  }
  .billboard-col {
    position: relative;
    transform-style: preserve-3d;
    transition: transform var(--flip-duration) var(--easing);
    will-change: transform;
    outline: 1px solid transparent; /* hairline seam fix */
  }
  .billboard-col.is-flipping { transform: rotateY(180deg); }

  .billboard-face {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    overflow: hidden;
    background-repeat: no-repeat;
    background-size: calc(var(--cols) * 100%) 100%;
    background-position: calc(var(--i) * (100% / (var(--cols) - 1))) 50%;
    transform: translateZ(0.02px); /* z-fighting/elcsíkozódás ellen */
    will-change: transform, opacity;
  }
  .billboard-face.back {
    transform: rotateY(180deg) translateZ(0.02px);
    opacity: 0; /* alapból láthatatlan → nincs elővillanás */
  }
  .billboard-col.is-flipping .billboard-face.back {
    opacity: 1; /* flip közben válik láthatóvá */
  }

  @media (prefers-reduced-motion: reduce) {
    .billboard-col,
    .billboard-col.is-flipping { transform: none !important; }
    .billboard-face.back { transform: none !important; }
  }
}

